var _=Object.defineProperty,x=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var b=(e,r,n)=>r in e?_(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,p=(e,r)=>{for(var n in r||(r={}))N.call(r,n)&&b(e,n,r[n]);if(S)for(var n of S(r))Q.call(r,n)&&b(e,n,r[n]);return e},k=(e,r)=>x(e,z(r));import{_ as o,r as w,f as q,b as s,F as A,j as t,L as $,c as T,C as j}from"./vendor.7a6bb187.js";import{S as d,L as y,T as C,P}from"./index.ae3ec409.js";import{q as f}from"./questions.5c6a43d7.js";var L="/assets/qr.5e4a37c1.png";const D=({onSubmit:e})=>{const[r,n]=w.exports.useState(!1),{register:a,handleSubmit:l,formState:{errors:i}}=q();return s(A,{children:[!r&&s(F,{gap:1,children:[t("h1",{children:"Trivia"}),t("p",{children:"How it works:"}),s(E,{as:"ul",gap:.5,children:[s("li",{children:["There are ",f.length," ",t($,{to:"/trivia-questions",children:"questions"})," in total."]}),t("li",{children:"Wait for the host to ask the question before starting the trivia or going to the next question."}),t("li",{children:"You will be given some time to answer."}),t("li",{children:"Submit when you are sure as you cannot go back to change your answer."}),t("li",{children:"After everyone has submitted, the couple will reveal the correct answer."}),t("li",{children:"Do not wait for the answer before putting in your submission. It is considered cheating!"}),t("li",{children:"Have fun!"})]}),t("button",{onClick:()=>n(!0),children:"Click here to start"}),s(O,{gap:.5,children:[t("p",{children:"Share link:"}),t(Y,{src:L})]})]}),r&&s(B,{as:"form",gap:1,onSubmit:c=>c.preventDefault(),children:[t("h1",{children:"Enter your full name:"}),t(R,k(p({},a("name",{required:!0,minLength:3})),{className:T(i.name&&"error"),placeholder:"Peter Parker"})),t("button",{onClick:l(({name:c})=>{e(c)}),type:"button",children:"Submit"})]})]})};var F=o(d).withConfig({componentId:"sc-1xosita-0"})(["align-items:center;"]),E=o(d).withConfig({componentId:"sc-1xosita-1"})(["padding:0 1rem 1rem;text-align:left;"]),O=o(d).withConfig({componentId:"sc-1xosita-2"})(["margin-top:2rem;"]),Y=o("img").withConfig({componentId:"sc-1xosita-3"})(["max-width:7rem;"]),B=o(d).withConfig({componentId:"sc-1xosita-4"})(["align-items:center;"]),R=o("input").withConfig({componentId:"sc-1xosita-5"})(["text-align:center;"]);const H=({currentQuestionNo:e,currentQuestion:r,onSubmit:n})=>{const[a,l]=w.exports.useState("");return s(J,{gap:1,children:[s("h1",{children:["Question ",e]}),t(V,{children:r.question}),Object.entries(r.answers).map(([i,c])=>s(W,{onClick:()=>l(i),$_css:a===i&&j(["background-color:",";"],a===i&&"#91cf84"),children:[i,". ",c]},i)),t(G,{src:y}),t("button",{disabled:!a,onClick:()=>n(a),type:"button",children:"Submit"})]})};var J=o(d).withConfig({componentId:"sc-ltoxwu-0"})(["align-items:center;"]),V=o("p").withConfig({componentId:"sc-ltoxwu-1"})(["font-size:1.5rem;"]),W=o("button").withConfig({componentId:"sc-ltoxwu-2"})(["&:hover{color:",";}",""],({theme:e})=>e.palette.dark[3],e=>e.$_css),G=o("img").withConfig({componentId:"sc-ltoxwu-3"})(["height:2rem;width:8rem;opacity:0.5;margin:0 auto;"]);const le=()=>{const[e,r]=w.exports.useReducer((a,l)=>l.reset?{}:p(p({},a),l),JSON.parse(localStorage.getItem(C)||"{}"));w.exports.useEffect(()=>{localStorage.setItem(C,JSON.stringify(e))},[e]);const n=typeof e.currentQuestionNo=="number"?f[e.currentQuestionNo-1]:void 0;return t(K,{children:(()=>{var a,l;if(e.complete)return s(M,{gap:1,children:[s("h1",{children:["You got ",e.total||0," correct!"]}),t(U,{src:y}),t("p",{children:"Thank you for participating in the trivia."}),t(X,{onClick:()=>r({reset:!0}),type:"submit",children:"Try again"})]});if(n&&e.currentQuestionNo&&e.displayAnswer){const i=e.currentQuestionNo,c=i>=f.length,u=(l=(a=e.submissions)==null?void 0:a.find(v=>v.questionNo===n.questionNo))==null?void 0:l.answer,m=u===n.correctAnswer;return s(Z,{gap:1,children:[s("h1",{children:["Question ",e.currentQuestionNo]}),t(ee,{children:n.question}),t("p",{children:"You answered:"}),u&&s(te,{disabled:!0,$_css:m?"#91cf84":"pink",children:[u,"."," ",n.answers[u]]}),m&&t(ne,{children:"That is correct! Well done"}),!m&&s(re,{children:["Correct answer:"," ",n.answers[n.correctAnswer]]}),t(oe,{src:y}),t("button",{onClick:()=>{r({currentQuestionNo:c?void 0:i+1,displayAnswer:!1,complete:c})},children:c?"View results":"Next question..."})]})}if(n&&e.currentQuestionNo&&!e.displayAnswer){const i=e.currentQuestionNo;return t(H,{currentQuestion:n,currentQuestionNo:i,onSubmit:c=>{const u={questionNo:i,answer:c},m=(e.submissions||[]).concat(u),v=f.map(h=>{var g;return((g=m.find(({questionNo:I})=>I===h.questionNo))==null?void 0:g.answer)===h.correctAnswer?1:0}).reduce((h,g)=>h+g,0);r({displayAnswer:!0,total:v,submissions:m})}})}return t(D,{onSubmit:i=>{r({name:i,currentQuestionNo:1,displayAnswer:!1,total:0,complete:!1,submissions:[]})}})})()})};var K=o(P).withConfig({componentId:"sc-1ke3zzv-0"})(["max-width:","px;padding-left:1rem;padding-right:1rem;font-style:normal;input,button{width:100%;}"],({theme:e})=>e.breakpoints.sm),M=o(d).withConfig({componentId:"sc-1ke3zzv-1"})(["align-items:center;"]),U=o("img").withConfig({componentId:"sc-1ke3zzv-2"})(["height:2rem;width:8rem;opacity:0.5;margin:0 auto;"]),X=o("button").withConfig({componentId:"sc-1ke3zzv-3"})(["margin-top:2rem;"]),Z=o(d).withConfig({componentId:"sc-1ke3zzv-4"})(["align-items:center;"]),ee=o("p").withConfig({componentId:"sc-1ke3zzv-5"})(["font-size:1.5rem;"]),te=o("button").withConfig({componentId:"sc-1ke3zzv-6"})(["background-color:",";&:hover{color:",";}&&{cursor:initial;opacity:1;}"],e=>e.$_css,({theme:e})=>e.palette.dark[3]),ne=o("div").withConfig({componentId:"sc-1ke3zzv-7"})(["margin-bottom:1rem;"]),re=o("div").withConfig({componentId:"sc-1ke3zzv-8"})(["margin-bottom:1rem;"]),oe=o("img").withConfig({componentId:"sc-1ke3zzv-9"})(["height:2rem;width:8rem;opacity:0.5;margin:0 auto;"]);export{le as default};
